{% extends "merchant/base.html" %}
{% load static %}
{% block content %}
{% include "site/partials/dash_nav.html" %}
<section class="w-[100%] bg-gray-200 h-screen fixed z-[-1] top-0 right-0 left-0 overflow-y-scroll">
    <div class="sm:flex-row flex-col flex gap-[1rem] mr-[0.3rem] ml-[0.3rem] md:ml-[260px] transition-all duration-300  mt-[90px]">
        <div class="w-[100%] md:w-[300px] bg-white border border-slate-600 border-opacity-20 rounded-[15px] p-4">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-gray-500 text-sm font-medium">Total Merchants</p>
                    <h3 class="text-3xl font-medium text-gray-600">{{merchants_count}}</h3>
                </div>
                <div class="p-3 rounded-full bg-green-100 text-green-600">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M20.774 18C21.524 18 22.119 17.529 22.654 16.87C23.75 15.52 21.951 14.44 21.265 13.913C20.568 13.376 19.789 13.071 19 13M18 11C18.6631 11 19.299 10.7366 19.7678 10.2678C20.2366 9.79893 20.5 9.16304 20.5 8.5C20.5 7.83696 20.2366 7.20107 19.7678 6.73223C19.299 6.26339 18.6631 6 18 6M3.22603 18C2.47603 18 1.88103 17.529 1.34603 16.87C0.250025 15.52 2.04903 14.44 2.73503 13.913C3.43203 13.376 4.21003 13.07 5.00003 13M5.50003 11C4.83698 11 4.2011 10.7366 3.73226 10.2678C3.26342 9.79893 3.00003 9.16304 3.00003 8.5C3.00003 7.83696 3.26342 7.20107 3.73226 6.73223C4.2011 6.26339 4.83698 6 5.50003 6M8.08402 15.111C7.06202 15.743 4.38303 17.033 6.01403 18.647C6.81303 19.436 7.70003 20 8.81703 20H15.185C16.302 20 17.189 19.436 17.986 18.647C19.618 17.033 16.939 15.743 15.917 15.111C14.7399 14.385 13.3841 14.0005 12.001 14.0005C10.618 14.0005 9.26219 14.385 8.08503 15.111M15.5 7.5C15.5 7.95963 15.4095 8.41475 15.2336 8.83939C15.0577 9.26403 14.7999 9.64987 14.4749 9.97487C14.1499 10.2999 13.7641 10.5577 13.3394 10.7336C12.9148 10.9095 12.4597 11 12 11C11.5404 11 11.0853 10.9095 10.6606 10.7336C10.236 10.5577 9.85016 10.2999 9.52515 9.97487C9.20015 9.64987 8.94234 9.26403 8.76645 8.83939C8.59056 8.41475 8.50003 7.95963 8.50003 7.5C8.50003 6.57174 8.86877 5.6815 9.52515 5.02513C10.1815 4.36875 11.0718 4 12 4C12.9283 4 13.8185 4.36875 14.4749 5.02513C15.1313 5.6815 15.5 6.57174 15.5 7.5Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
            </div>
        </div>
        <div class="w-[100%] md:w-[300px] bg-white border border-slate-600 border-opacity-20 rounded-[15px] p-4">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-gray-500 text-sm font-medium">Total Users</p>
                    <h3 class="text-3xl font-medium text-gray-600">{{ users_count }}</h3>
                </div>
                <div class="p-3 rounded-full bg-green-100 text-green-600">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M20.774 18C21.524 18 22.119 17.529 22.654 16.87C23.75 15.52 21.951 14.44 21.265 13.913C20.568 13.376 19.789 13.071 19 13M18 11C18.6631 11 19.299 10.7366 19.7678 10.2678C20.2366 9.79893 20.5 9.16304 20.5 8.5C20.5 7.83696 20.2366 7.20107 19.7678 6.73223C19.299 6.26339 18.6631 6 18 6M3.22603 18C2.47603 18 1.88103 17.529 1.34603 16.87C0.250025 15.52 2.04903 14.44 2.73503 13.913C3.43203 13.376 4.21003 13.07 5.00003 13M5.50003 11C4.83698 11 4.2011 10.7366 3.73226 10.2678C3.26342 9.79893 3.00003 9.16304 3.00003 8.5C3.00003 7.83696 3.26342 7.20107 3.73226 6.73223C4.2011 6.26339 4.83698 6 5.50003 6M8.08402 15.111C7.06202 15.743 4.38303 17.033 6.01403 18.647C6.81303 19.436 7.70003 20 8.81703 20H15.185C16.302 20 17.189 19.436 17.986 18.647C19.618 17.033 16.939 15.743 15.917 15.111C14.7399 14.385 13.3841 14.0005 12.001 14.0005C10.618 14.0005 9.26219 14.385 8.08503 15.111M15.5 7.5C15.5 7.95963 15.4095 8.41475 15.2336 8.83939C15.0577 9.26403 14.7999 9.64987 14.4749 9.97487C14.1499 10.2999 13.7641 10.5577 13.3394 10.7336C12.9148 10.9095 12.4597 11 12 11C11.5404 11 11.0853 10.9095 10.6606 10.7336C10.236 10.5577 9.85016 10.2999 9.52515 9.97487C9.20015 9.64987 8.94234 9.26403 8.76645 8.83939C8.59056 8.41475 8.50003 7.95963 8.50003 7.5C8.50003 6.57174 8.86877 5.6815 9.52515 5.02513C10.1815 4.36875 11.0718 4 12 4C12.9283 4 13.8185 4.36875 14.4749 5.02513C15.1313 5.6815 15.5 6.57174 15.5 7.5Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
            </div>
        </div>
    </div>

    <div class="mr-[0.3rem] ml-[0.3rem] md:ml-[260px] transition-all duration-300 bg-white border border-slate-600 border-opacity-20 rounded-[15px] p-4 mt-[20px]">
        <h1 class="font-medium text-[#E9332A] mb-2">Flow of adding a user to a merchant</h1>
        <ol class="items-center w-full space-y-4 sm:flex sm:space-x-8 sm:space-y-0 rtl:space-x-reverse">
            <li class="flex items-center text-blue-600 dark:text-blue-500 space-x-2.5 rtl:space-x-reverse">
                <span class="flex items-center justify-center w-8 h-8 border border-blue-600 rounded-full shrink-0 dark:border-blue-500">
                    1
                </span>
                <span>
                    <h3 class="font-medium leading-tight">Click on the Merchant Tab</h3>
                    <p class="text-sm">To view all the lists of merchant</p>
                </span>
            </li>
            <li class="flex items-center text-gray-500 dark:text-gray-400 space-x-2.5 rtl:space-x-reverse">
                <span class="flex items-center justify-center w-8 h-8 border border-gray-500 rounded-full shrink-0 dark:border-gray-400">
                    2
                </span>
                <span>
                    <h3 class="font-medium leading-tight">Merchant Details</h3>
                    <p class="text-sm">Click the Eye Icon to view merchant detail</p>
                </span>
            </li>
            <li class="flex items-center text-gray-500 dark:text-gray-400 space-x-2.5 rtl:space-x-reverse">
                <span class="flex items-center justify-center w-8 h-8 border border-gray-500 rounded-full shrink-0 dark:border-gray-400">
                    3
                </span>
                <span>
                    <h3 class="font-medium leading-tight">Search Users</h3>
                    <p class="text-sm">Enter a user's number to search for the user</p>
                </span>
            </li>
            <li class="flex items-center text-gray-500 dark:text-gray-400 space-x-2.5 rtl:space-x-reverse">
                <span class="flex items-center justify-center w-8 h-8 border border-gray-500 rounded-full shrink-0 dark:border-gray-400">
                    4
                </span>
                <span>
                    <h3 class="font-medium leading-tight">List Users</h3>
                    <p class="text-sm">Finally, add the user to the merchant</p>
                </span>
            </li>
        </ol>
    </div>

    <div class="mr-[0.3rem] ml-[0.3rem] md:ml-[260px] transition-all duration-300 bg-white border border-slate-600 border-opacity-20 rounded-[15px] p-4 mt-[20px]">
        <h1 class="font-medium text-[#E9332A] mb-2">Flow of linking a provider to a merchant</h1>
        <ol class="items-center w-full space-y-4 sm:flex sm:space-x-8 sm:space-y-0 rtl:space-x-reverse">
            <li class="flex items-center text-blue-600 dark:text-blue-500 space-x-2.5 rtl:space-x-reverse">
                <span class="flex items-center justify-center w-8 h-8 border border-blue-600 rounded-full shrink-0 dark:border-blue-500">
                    1
                </span>
                <span>
                    <h3 class="font-medium leading-tight">Provider</h3>
                    <p class="text-sm">CLick on provider Tab to add a provider to the marchant</p>
                </span>
            </li>
            <li class="flex items-center text-gray-500 dark:text-gray-400 space-x-2.5 rtl:space-x-reverse">
                <span class="flex items-center justify-center w-8 h-8 border border-gray-500 rounded-full shrink-0 dark:border-gray-400">
                    2
                </span>
                <span>
                    <h3 class="font-medium leading-tight">Merchant Account</h3>
                    <p class="text-sm">Add bank details to the marchant</p>
                </span>
            </li>
            <li class="flex items-center text-gray-500 dark:text-gray-400 space-x-2.5 rtl:space-x-reverse">
                <span class="flex items-center justify-center w-8 h-8 border border-gray-500 rounded-full shrink-0 dark:border-gray-400">
                    3
                </span>
                <span>
                    <h3 class="font-medium leading-tight">Merchant Provider</h3>
                    <p class="text-sm">Select the specific merchant and select the provider</p>
                </span>
            </li>
        </ol>
    </div>

    <div class="mr-[0.3rem] ml-[0.3rem] md:ml-[260px] transition-all duration-300 bg-white border border-slate-600 border-opacity-20 rounded-[15px] p-4 mt-[20px]">
        <div class="flex flex-column sm:flex-row flex-wrap space-y-4 sm:space-y-0 items-center justify-between pb-4">
            <div>
                <button id="dropdownRadioButton" data-dropdown-toggle="dropdownRadio" class="inline-flex items-center text-gray-500 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-100 font-medium rounded-lg text-sm px-3 py-1.5" type="button">
                    <svg class="w-3 h-3 text-gray-500 dark:text-gray-400 me-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M10 0a10 10 0 1 0 10 10A10.011 10.011 0 0 0 10 0Zm3.982 13.982a1 1 0 0 1-1.414 0l-3.274-3.274A1.012 1.012 0 0 1 9 10V6a1 1 0 0 1 2 0v3.586l2.982 2.982a1 1 0 0 1 0 1.414Z"/>
                    </svg>
                    Last 30 days
                    <svg class="w-2.5 h-2.5 ms-2.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4"/>
                    </svg>
                </button>
                <!-- Dropdown menu -->
                <div id="dropdownRadio" class="z-10 hidden w-48 bg-white divide-y divide-gray-100 rounded-lg shadow-sm" data-popper-reference-hidden="" data-popper-escaped="" data-popper-placement="top" style="position: absolute; inset: auto auto 0px 0px; margin: 0px; transform: translate3d(522.5px, 3847.5px, 0px);">
                    <ul class="p-3 space-y-1 text-sm text-gray-700 " aria-labelledby="dropdownRadioButton">
                        <li>
                            <div class="flex items-center p-2 rounded-sm hover:bg-gray-100 ">
                                <input id="filter-radio-example-1" type="radio" value="" name="filter-radio" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 focus:ring-2">
                                <label for="filter-radio-example-1" class="w-full ms-2 text-sm font-medium text-gray-900 rounded-sm">Last day</label>
                            </div>
                        </li>
                        <li>
                            <div class="flex items-center p-2 rounded-sm hover:bg-gray-100 ">
                                <input checked="" id="filter-radio-example-2" type="radio" value="" name="filter-radio" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 focus:ring-2">
                                <label for="filter-radio-example-2" class="w-full ms-2 text-sm font-medium text-gray-900 rounded-sm">Last 7 days</label>
                            </div>
                        </li>
                        <li>
                            <div class="flex items-center p-2 rounded-sm hover:bg-gray-100 ">
                                <input id="filter-radio-example-3" type="radio" value="" name="filter-radio" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 focus:ring-2">
                                <label for="filter-radio-example-3" class="w-full ms-2 text-sm font-medium text-gray-900 rounded-sm">Last 30 days</label>
                            </div>
                        </li>
                        <li>
                            <div class="flex items-center p-2 rounded-sm hover:bg-gray-100 ">
                                <input id="filter-radio-example-4" type="radio" value="" name="filter-radio" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 focus:ring-2">
                                <label for="filter-radio-example-4" class="w-full ms-2 text-sm font-medium text-gray-900 rounded-sm">Last month</label>
                            </div>
                        </li>
                        <li>
                            <div class="flex items-center p-2 rounded-sm hover:bg-gray-100 ">
                                <input id="filter-radio-example-5" type="radio" value="" name="filter-radio" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 focus:ring-2">
                                <label for="filter-radio-example-5" class="w-full ms-2 text-sm font-medium text-gray-900 rounded-sm">Last year</label>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            <label for="table-search" class="sr-only">Search</label>
            <div class="relative">
                <div class="absolute inset-y-0 left-0 flex items-center ps-3 pointer-events-none">
                    <svg class="w-5 h-5 text-gray-500 " aria-hidden="true" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"></path></svg>
                </div>
                <input type="text" id="table-search" class="block p-2 ps-10 text-sm text-gray-900 border border-gray-300 rounded-lg w-80 bg-gray-50 focus:ring-blue-500 focus:border-blue-500" placeholder="Search for items">
            </div>
        </div>
        <div class="relative overflow-x-auto shadow-md sm:rounded-lg">
            <table class="w-full text-sm text-left text-gray-500 ">
                <thead class="text-xs text-gray-700 uppercase bg-gray-50 ">
                    <tr class="whitespace-nowrap">
                        <th scope="col" class="p-4">
                            <div class="flex items-center">
                                <input id="checkbox-all-search" type="checkbox" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded-sm focus:ring-blue-500 focus:ring-2 ">
                                <label for="checkbox-all-search" class="sr-only">checkbox</label>
                            </div>
                        </th>
                        <th scope="col" class="px-6 py-3">
                            Merchant Id
                        </th>
                        <th scope="col" class="px-6 py-3">
                            Merchant Name
                        </th>
                        <th scope="col" class="px-6 py-3">
                            Address
                        </th>
                        <th scope="col" class="px-6 py-3">
                            Category
                        </th>
                        <th scope="col" class="px-6 py-3">
                            Date-Added
                        </th>
                        <th scope="col" class="px-6 py-3">
                            Action
                        </th>
                    </tr>
                </thead>
                <tbody>
                    {% for m in merchants %}
                    <tr class="bg-white border-b border-gray-200 hover:bg-gray-50">
                        <td class="w-4 p-4">
                            <div class="flex items-center">
                                <input id="checkbox-table-search-{{ m.id }}" type="checkbox" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded-sm focus:ring-blue-500 focus:ring-2 ">
                                <label for="checkbox-table-search-{{ m.id }}" class="sr-only">checkbox</label>
                            </div>
                        </td>
                        <td class="px-6 py-4">
                            {{m.id}}
                        </td>
                        <th scope="row" class="flex items-center px-6 py-4 text-gray-900 whitespace-nowrap">
                            {% if m.logo_url %}
                                <img class="w-10 h-10 rounded-full object-cover" src="{{ m.logo_url }}" alt="{{ m.name }} logo">
                            {% else %}
                                <div class="w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center">
                                    <span class="text-gray-500 text-xs">{{ m.name|first|upper }}</span>
                                </div>
                            {% endif %}
                            <div class="ps-3">
                                <div class="text-base font-semibold">{{m.name}}</div>
                                <div class="font-normal text-gray-500">{{m.contact_info}}</div>
                            </div>  
                        </th>
                        <td class="px-6 py-4">
                            {{m.address}}
                        </td>
                        <td class="px-6 py-4">
                            {% if m.category == 1 %}School
                            {% elif m.category == 2 %}Hotel
                            {% elif m.category == 3 %}General
                            {% else %}Unknown
                            {% endif %}
                        </td>
                        <td class="px-6 py-4">
                            {{ m.create_time|date:"d-M-Y H:i" }}
                        </td>
                        <td class="flex items-center px-6 py-4">
                            <a href="{% url "merchant" %}" class="font-medium cursor-pointer text-slate-600 bg-slate-300 w-[32px] h-[32px] flex justify-center items-center rounded-lg hover:bg-slate-200 ms-3">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M4 12H20M20 12L14 18M20 12L14 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        <nav class="flex justify-between flex-wrap items-center flex-col md:flex-row pt-4" aria-label="Table navigation">
            <div class="text-sm font-normal text-gray-500 mb-4">
                Showing 
                <span class="font-semibold text-gray-900 ">1-10</span> of 
                <span class="font-semibold text-gray-900 ">1000</span>
            </div>
            <ul class="inline-flex -space-x-px text-sm h-8">
                <li>
                    <a href="#" class="flex items-center justify-center px-3 h-8 ms-0 leading-tight text-gray-500 bg-white border border-gray-300 rounded-s-lg hover:bg-gray-100 hover:text-gray-700 ">Previous</a>
                </li>
                <li>
                    <a href="#" class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 ">1</a>
                </li>
                <li>
                    <a href="#" class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 ">2</a>
                </li>
                <li>
                    <a href="#" aria-current="page" class="flex items-center justify-center px-3 h-8 text-gray-50 border border-gray-300 bg-slate-600 hover:bg-blue-100 hover:text-blue-700 ">3</a>
                </li>
                <li>
                    <a href="#" class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 ">4</a>
                </li>
                <li>
                    <a href="#" class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 ">5</a>
                </li>
                <li>
                    <a href="#" class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 rounded-e-lg hover:bg-gray-100 hover:text-gray-700 ">Next</a>
                </li>
            </ul>
        </nav>
    </div>
</section>

<!--Modal-Delete-->
<div id="popup-modal" tabindex="-1" class="hidden overflow-hidden fixed top-0 right-0 left-0 z-[999] h-screen w-full ">
    <div class="relative p-4 w-full max-w-md max-h-full">
        <div class="relative bg-white rounded-lg shadow-sm">
            <button type="button" class="absolute top-3 end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center" data-modal-hide="popup-modal">
                <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                </svg>
                <span class="sr-only">Close modal</span>
            </button>
            <div class="p-4 md:p-5 text-center">
                <svg class="mx-auto mb-4 text-gray-400 w-12 h-12 " aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
                </svg>
                <h3 class="mb-5 text-lg font-normal text-gray-500">Are you sure you want to delete this product?</h3>
                <button data-modal-hide="popup-modal" type="button" class="text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center">
                    Yes, I'm sure
                </button>
                <button data-modal-hide="popup-modal" type="button" class="py-2.5 px-5 ms-3 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100">No, cancel</button>
            </div>
        </div>
    </div>
</div>
{% endblock content %}
